<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Projects</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/admin/assets/favicon.ico"/>
    <!--    <link rel="stylesheet" href="/css/bootstrap.min.css">-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/admin/css/styles.css" rel="stylesheet"/>

    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}">
    <link rel="apple-touch-icon" th:href="@{/images/apple-touch-icon.png}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- All css files are included here. -->
    <!-- Bootstrap fremwork main css -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!-- Owl Carousel  main css -->
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}">
    <!-- This core.css file contents all plugings css file. -->
    <link rel="stylesheet" th:href="@{/css/core.css}">
    <!-- Theme shortcodes/elements style -->
    <link rel="stylesheet" th:href="@{/css/shortcode/shortcodes.css}">
    <!-- Theme main style -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- Responsive css -->
    <link rel="stylesheet" th:href="@{/css/responsive.css}">
    <!-- User style -->
    <link rel="stylesheet" th:href="@{/css/custom.css}">


    <!-- Modernizr JS -->
    <script th:src="@{/js/vendor/modernizr-2.8.3.min.js}"></script>
</head>
<body>
<div class="wrapper">

    <!-- End Header Top -->
    <div id="sticky-header-with-topbar" class="mainmenu__wrap sticky__header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2 col-sm-6 col-xs-7">
                    <div class="logo">
                        <a href="#">
                            <img th:src="@{/images/logo/sinply-construction.png}" alt="logo image">
                        </a>
                    </div>
                </div>
                <div class="col-md-8 col-sm-6 col-xs-5">
                    <nav class="main__menu__nav  hidden-xs hidden-sm">
                        <ul class="main__menu">
                            <li><a href="/about">Biz haqimizda</a></li>
                            <li><a href="/service">Hizmatlar</a></li>
                            <li><a href="/projects">Loyihalar</a></li>
                            <li><a href="/news">Yangiliklar</a></li>
                            <li><a href="/contact">Bog'lanish</a></li>
                        </ul>
                    </nav>
                    <div class="mobile-menu clearfix visible-xs visible-sm">
                        <nav id="mobile_dropdown">
                            <ul>
                                <li><a href="/about">Biz haqimizda</a></li>
                                <li><a href="/service">Hizmatlar</a></li>
                                <li><a href="/projects">Loyihalar</a></li>
                                <li><a href="/news">Yangiliklar</a></li>
                                <li><a href="/contact">Bog'lanish</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="d-flex" id="wrapper">
    <!-- Sidebar-->
    <div class="border-end " id="sidebar-wrapper">
        <!--        <div class="sidebar-heading border-bottom bg-light">Admin-page</div>-->
        <form class="mb-1" action="/get-employees" method="post" th:if="${roleId == 2}">
            <button type="submit" name="userId" th:value="${empId}"
                    class="list-group-item bg-success text- text-white list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true"
                     xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd"
                          d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z"
                          clip-rule="evenodd"/>
                </svg>
                Xodimlar
            </button>
        </form>
        <form class="mb-1" action="/get-employess-accountant" method="post" th:if="${roleId == 4}">
            <input name="projectId" th:value="${project.getId()}" hidden/>
            <button type="submit" name="userId" th:value="${empId}"
                    class="list-group-item bg-success text- text-white list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true"
                     xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd"
                          d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z"
                          clip-rule="evenodd"/>
                </svg>
                Xodimlar
            </button>
        </form>
        <form class="mb-1" action="/get-admin-accountants" method="post" th:if="${roleId == 2}">
            <button type="submit" name="userId" th:value="${empId}"
                    class="bg-success text- text-white list-group-item list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true"
                     xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd"
                          d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4H6Zm7.25-2.095c.478-.86.75-1.85.75-2.905a5.973 5.973 0 0 0-.75-2.906 4 4 0 1 1 0 5.811ZM15.466 20c.34-.588.535-1.271.535-2v-1a5.978 5.978 0 0 0-1.528-4H18a4 4 0 0 1 4 4v1a2 2 0 0 1-2 2h-4.535Z"
                          clip-rule="evenodd"/>
                </svg>
                Buxgalterlar
            </button>
        </form>
        <form class="mb-1" action="/get-projects" method="post" th:if="${roleId == 2}">
            <button type="submit" name="userId" th:value="${empId}"
                    class="list-group-item bg-success text- text-white list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true"
                     xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 4h12M6 4v16M6 4H5m13 0v16m0-16h1m-1 16H6m12 0h1M6 20H5M9 7h1v1H9V7Zm5 0h1v1h-1V7Zm-5 4h1v1H9v-1Zm5 0h1v1h-1v-1Zm-3 4h2a1 1 0 0 1 1 1v4h-4v-4a1 1 0 0 1 1-1Z"/>
                </svg>
                Proyektlar
            </button>
        </form>
        <form class="mb-1" action="/get-tasks" method="post" th:if="${roleId == 2}">
            <button type="submit" name="userId" th:value="${empId}"
                    class="list-group-item bg-success text- text-white list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                     viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M9.143 4H4.857A.857.857 0 0 0 4 4.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 10 9.143V4.857A.857.857 0 0 0 9.143 4Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 20 9.143V4.857A.857.857 0 0 0 19.143 4Zm-10 10H4.857a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286a.857.857 0 0 0 .857-.857v-4.286A.857.857 0 0 0 9.143 14Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286a.857.857 0 0 0 .857-.857v-4.286a.857.857 0 0 0-.857-.857Z"/>
                </svg>

                Topshiriqlar
            </button>
        </form>
        <form class="mb-1" action="/get-admin-products" method="post" th:if="${roleId == 3 || roleId == 2}">
            <button type="submit" name="userId" th:value="${empId}"
                    class="bg-success text- text-white list-group-item list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px;margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true"
                     xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-3 5h3m-6 0h.01M12 16h3m-6 0h.01M10 3v4h4V3h-4Z"/>
                </svg>
                Mahsulotlar
            </button>
        </form>
        <form class="mb-1" action="/cabinet" method="post">
            <button type="submit" name="userId" th:value="${empId}"
                    class="bg-success text- text-white list-group-item list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px; margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd"
                          d="M17 10v1.126c.367.095.714.24 1.032.428l.796-.797 1.415 1.415-.797.796c.188.318.333.665.428 1.032H21v2h-1.126c-.095.367-.24.714-.428 1.032l.797.796-1.415 1.415-.796-.797a3.979 3.979 0 0 1-1.032.428V20h-2v-1.126a3.977 3.977 0 0 1-1.032-.428l-.796.797-1.415-1.415.797-.796A3.975 3.975 0 0 1 12.126 16H11v-2h1.126c.095-.367.24-.714.428-1.032l-.797-.796 1.415-1.415.796.797A3.977 3.977 0 0 1 15 11.126V10h2Zm.406 3.578.016.016c.354.358.574.85.578 1.392v.028a2 2 0 0 1-3.409 1.406l-.01-.012a2 2 0 0 1 2.826-2.83ZM5 8a4 4 0 1 1 7.938.703 7.029 7.029 0 0 0-3.235 3.235A4 4 0 0 1 5 8Zm4.29 5H7a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h6.101A6.979 6.979 0 0 1 9 15c0-.695.101-1.366.29-2Z"
                          clip-rule="evenodd"/>
                </svg>
                Shaxsiy kabinet
            </button>
        </form>
        <form class="mb-1" action="/login" method="get">
            <button type="submit" name="userId"
                    class="bg-danger text- text-white list-group-item list-group-item-action list-group-item-light p-3"
                    style="margin-right: 160px;
                        font-size: 15px;border-radius: 10px;
                        letter-spacing: 1px;font-weight: 600;" href="#!">
                <svg style="margin-right: 5px; margin-left: 20px" class="w-6 h-6 text-gray-800 dark:text-white"
                     aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                     width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M20 12H8m12 0-4 4m4-4-4-4M9 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h2"/>
                </svg>
                Chiqish
            </button>
        </form>

        <!--        <div th:each="project: ${projectList}" th:if="${roleId == 6 || roleId == 2}">-->
        <!--            <form class="mb-1" action="/get-employess-accountant" method="post">-->
        <!--                <input name="projectId" th:value="${project.getId()}" hidden/>-->
        <!--                <input name="userId" th:value="${empId}" hidden/>-->
        <!--                <button type="submit" class="list-group-item list-group-item-action list-group-item-light p-3"-->
        <!--                        th:text="${project.getName()}" style="margin-right: 160px" href="#!"></button>-->
        <!--            </form>-->
        <!--        </div>-->
    </div>

    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="col-lg-12">
                <h2 class="text-center">Mahsulotlar</h2>
                <div class="card-header m-lg-auto">
                    <form action="/add-product" method="post">
                        <button type="submit" th:value="${empId}" name="userId" class="btn btn-success">
                            <svg style="margin-left: 5px;margin-right: 5px" class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true"
                                 xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                 viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                      stroke-width="2"
                                      d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                            </svg>
                            Mahsulot qo'shish
                        </button>
                    </form>
                </div>
                <table style="background: silver;" class="table table-hover table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th class="text-center">#</th>
                        <th class="text-center">Nomi</th>
                        <th class="text-center">Yaratilgan sana</th>
                        <th class="text-center">Proyekt</th>
                        <th class="text-center">Kim tomonidan</th>
                        <th class="text-center">Miqdori</th>
                        <th class="text-center">Birligi</th>
                        <th class="text-center">Amal</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="product,count: ${list}">
                        <td th:text="${count.count}"></td>
                        <td th:text="${product.getName()}"></td>
                        <td th:text="${product.getCreatedDate()}"></td>
                        <td th:text="${product.getProject().getName()}"></td>
                        <td th:text="${product.getCreatedBy().getFirstName()}"></td>
                        <td th:text="${product.getQuantity()}"></td>
                        <td th:text="${product.getUnit().getName()}"></td>
                        <td class="d-flex justify-content-center">
                            <form action="/edit-product" method="post" th:if="${!product.isOver()}">
                                <input type="hidden" name="productId" th:value="${product.getId()}"/>
                                <input type="hidden" name="userId" th:value="${empId}"/>
                                <button class="btn btn-warning ml-2" type="submit" data-toggle="modal"
                                        data-target=".bd-example-modal-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-pen" viewBox="0 0 16 16">
                                        <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"/>
                                    </svg>
                                    Spend
                                </button>
                            </form>
                            <button class="btn-danger btn" disabled th:if="${product.isOver()}">Product over</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="/admin/js/scripts.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</body>
</html>